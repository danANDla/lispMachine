; Each new term in the Fibonacci sequence is generated by adding
; the previous two terms. By starting with 1 and 2, the first 10 terms will be:
;   1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...
;
; By considering the terms in the Fibonacci sequence whose values do not exceed
; four million, find the sum of the even-valued terms.
;
; output_buffer after hlt: '2'
;
(defmacro when (condition body) '(if ,condition (progn ,body)))
(setq LIMIT 4000)
(setq answer 2)
(setq a 2)
(setq b 1)
(loop
(setq temp (rem a 2))
(if (= temp 0) (setq answer (+ answer a)))
(setq temp a)
(setq a (+ a b))
(setq b temp)
(when (> a LIMIT) (return a)))
(print answer)
